name: "Проверка статуса после каждого обновления"
description: "Создать заказ → обновить поле 1 → проверить статус → обновить поле 2 → проверить статус → обновить поле 3 → финальная проверка"

persona: "regular_customer"

initial_message: "Создай заказ: 15 роз на завтра утром, Анна 77013333333, адрес Фурманова 100"

expected_flow:
  - manager_should_create_order: true
  - manager_should_return_tracking_id: true
  - client_should_update_notes: true
  - manager_should_update_notes: true
  - client_should_check_status_after_notes: true
  - manager_should_show_updated_status: true
  - client_should_update_delivery_date: true
  - manager_should_update_date: true
  - client_should_check_status_after_date: true
  - manager_should_show_updated_status_again: true
  - client_should_update_address: true
  - manager_should_update_address: true
  - client_should_verify_final_state: true

expected_tools_used:
  - create_order
  - update_order (called 3 times)
  - track_order_by_phone (called 3 times for verification)

success_criteria:
  order_created: true
  first_update_verified: true
  second_update_verified: true
  third_update_verified: true
  all_changes_confirmed: true
  goal_achieved: true

validation_checks:
  - notes_updated_correctly: true
  - date_updated_correctly: true
  - address_updated_correctly: true
  - status_reflects_changes: true

max_turns: 22
timeout_seconds: 160
