<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InputField Component Test</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'purple-primary': '#8A49F3',
                        'green-success': '#34C759',
                        'gray-disabled': '#6B6773',
                        'gray-placeholder': '#828282',
                        'gray-neutral': '#C4C4C4',
                        'gray-border': '#E0E0E0',
                        'gray-input': '#F2F2F2',
                        'gray-input-alt': '#EEEDF2',
                        'error-primary': '#DF1D4C'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-100 p-8">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // InputField Component (copy from actual component)
        const InputField = ({
          type = 'text',
          placeholder,
          value,
          onChange,
          label,
          helpText,
          error,
          required = false,
          disabled = false,
          maxLength,
          inputMode,
          suffix,
          className = '',
          ...props
        }) => {
          const baseInputClasses = `
            w-full text-base font-['Open_Sans'] outline-none transition-colors
            ${disabled ? 'bg-gray-neutral text-gray-disabled cursor-not-allowed' : 'bg-transparent'}
            ${error ? 'text-error-primary' : 'text-black'}
            placeholder-gray-disabled
          `;

          const containerClasses = `
            px-4 py-3 border-b border-gray-border
            ${error ? 'border-error-primary' : 'border-gray-border'}
            ${className}
          `;

          return (
            <div className={containerClasses}>
              {label && (
                <label className="block text-sm text-gray-disabled font-['Open_Sans'] mb-2">
                  {label}
                  {required && <span className="text-error-primary ml-1">*</span>}
                </label>
              )}

              <div className="flex items-center">
                <input
                  type={type}
                  placeholder={placeholder}
                  value={value}
                  onChange={onChange}
                  disabled={disabled}
                  maxLength={maxLength}
                  inputMode={inputMode}
                  className={baseInputClasses}
                  {...props}
                />
                {suffix && (
                  <span className="text-base font-['Open_Sans'] ml-2 text-gray-disabled">
                    {suffix}
                  </span>
                )}
              </div>

              {helpText && !error && (
                <p className="text-xs text-gray-disabled mt-1 font-['Open_Sans']">
                  {helpText}
                </p>
              )}

              {error && (
                <p className="text-xs text-error-primary mt-1 font-['Open_Sans']">
                  {error}
                </p>
              )}
            </div>
          );
        };

        // Test Component
        const TestApp = () => {
            const [formData, setFormData] = useState({
                name: '',
                price: '',
                manufacturingTime: '',
                width: '',
                height: ''
            });

            const [errors, setErrors] = useState({});

            const handleChange = (field) => (e) => {
                setFormData({ ...formData, [field]: e.target.value });
                // Clear error when user starts typing
                if (errors[field]) {
                    setErrors({ ...errors, [field]: '' });
                }
            };

            const handlePriceChange = (e) => {
                const value = e.target.value.replace(/\D/g, '');
                const formatted = value.replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
                setFormData({ ...formData, price: formatted });
            };

            const handleNumericInput = (field) => (e) => {
                const value = e.target.value.replace(/\D/g, '');
                setFormData({ ...formData, [field]: value });
            };

            const validate = () => {
                const newErrors = {};
                if (!formData.name.trim()) newErrors.name = 'Название товара обязательно';
                if (!formData.price.trim()) newErrors.price = 'Цена товара обязательна';
                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            return (
                <div className="max-w-md mx-auto bg-white rounded-lg shadow-lg">
                    <div className="px-4 py-5 border-b">
                        <h1 className="text-2xl font-['Open_Sans'] font-normal">InputField Component Test</h1>
                    </div>

                    {/* Regular input field */}
                    <InputField
                        placeholder="Название товара"
                        value={formData.name}
                        onChange={handleChange('name')}
                        label="Название товара"
                        required={true}
                        error={errors.name}
                        helpText="Текстовое поле, максимум 100 символов"
                        maxLength="100"
                    />

                    {/* Price input with suffix */}
                    <InputField
                        type="text"
                        inputMode="numeric"
                        placeholder="Стоимость товара"
                        value={formData.price}
                        onChange={handlePriceChange}
                        label="Стоимость товара"
                        required={true}
                        error={errors.price}
                        suffix="₸"
                        helpText="Только цифры"
                    />

                    {/* Numeric input with suffix */}
                    <InputField
                        type="text"
                        inputMode="numeric"
                        placeholder="Время изготовления"
                        value={formData.manufacturingTime}
                        onChange={handleNumericInput('manufacturingTime')}
                        label="Время изготовления"
                        suffix="мин"
                        helpText="Только цифры, в минутах"
                        maxLength="3"
                    />

                    {/* Two side-by-side fields */}
                    <div className="flex">
                        <InputField
                            type="text"
                            inputMode="numeric"
                            placeholder="Ширина"
                            value={formData.width}
                            onChange={handleNumericInput('width')}
                            suffix="см"
                            maxLength="3"
                            className="border-r-0"
                        />
                        <InputField
                            type="text"
                            inputMode="numeric"
                            placeholder="Высота"
                            value={formData.height}
                            onChange={handleNumericInput('height')}
                            suffix="см"
                            maxLength="3"
                        />
                    </div>

                    {/* Disabled field */}
                    <InputField
                        placeholder="Поле недоступно"
                        value="Disabled value"
                        disabled={true}
                        label="Недоступное поле"
                        helpText="Это поле недоступно для редактирования"
                    />

                    <div className="p-4">
                        <button
                            onClick={validate}
                            className="w-full py-3 bg-purple-primary text-white rounded text-base font-['Open_Sans'] tracking-wider uppercase hover:bg-purple-700 transition-colors"
                        >
                            Проверить валидацию
                        </button>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<TestApp />, document.getElementById('root'));
    </script>
</body>
</html>